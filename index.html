<!DOCTYPE html>
<html>
<head>
  <title>98.css example</title>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="https://unpkg.com/98.css" />
</head>

<body>

  <div class="window" style="margin: 32px; width: 400px;">
    <div class="title-bar">
      <div class="title-bar-text">
        Kingdom of Night
      </div>
    </div>
    <div class="window-body">
      <menu role="tablist" class="multirows">
        <li role="tab"><a href="#tabs" show="1-character-animations">Character Animations</a></li>
        <li role="tab"><a href="#tabs" show="1-special-effects">Special Effects</a></li>
      </menu>
      <div class="window" role="tabpanel" id="1-character-animations">
        <div class="window-body">
          <img src="images/tvaVDQA.gif">
        </div>
      </div>
      <div class="window" role="tabpanel" id="1-special-effects">
        <div class="window-body">
          <img src="images/1l9MD6G.gif">
          <img src="images/BjCcOJr.gif">
        </div>
      </div>
    </div>
  </div>
  <div class="window" style="margin: 32px; width: 250px;">
    <div class="title-bar">
      <div class="title-bar-text">
        Do you like these sprites?
      </div>
    </div>
    <div class="window-body">
      <menu role="tablist" class="multirows">
        <li role="tab"><a href="#tabs" show="2-character-animations">Character Animations</a></li>
        <li role="tab"><a href="#tabs" show="2-special-effects">Special Effects</a></li>
      </menu>
      <div class="window" role="tabpanel" id="2-character-animations">
        <div class="window-body">
          <img src="images/1l9MD6G.gif">
          <img src="images/BjCcOJr.gif">
        </div>
      </div>
      <div class="window" role="tabpanel" id="2-special-effects">
        <div class="window-body">
          <img src="images/tvaVDQA.gif">
        </div>
      </div>
    </div>
  </div>
</body>
</html>

<script>
  function generate_tab_click_handlers(outerWindow) {
    const tabs = outerWindow.querySelectorAll('menu li a');

    // Add a click event listener for each tab
    tabs.forEach(tab => {
      tab.addEventListener('click', function(event) {
        event.preventDefault();

        // Get the value of the 'show' attribute
        const showId = tab.getAttribute('show');

        // Hide all windows first
        outerWindow.querySelectorAll('.window[role="tabpanel"]').forEach(window => {
          window.style.display = 'none';
        });

        // Show the selected window
        document.getElementById(showId).style.display = 'block';
      });
    });
  }

  // Initially hide all windows except the first one
  // Outer loop: Iterate over .window divs that are children of the body
  document.querySelectorAll('body > .window').forEach((outerWindow) => {

    // Inner loop: Iterate over .window divs with role="tabpanel"
    outerWindow.querySelectorAll('.window[role="tabpanel"]').forEach((innerWindow, index) => {
      // Hide all except the first one
      if (index !== 0) {
        innerWindow.style.display = 'none';
      }
      generate_tab_click_handlers(outerWindow);

    });
  });

</script>